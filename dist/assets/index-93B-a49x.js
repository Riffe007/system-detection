import{j as e,G as C,r as o,C as T,M as E,H as v,N as S,W as P,d as z,e as w,S as W,f as G,h as B,i as K,P as H,k as q,l as J,R as X}from"./react-vendor-PZxl92Sj.js";import{ac as Y,ad as Q,ae as V,af as M,ag as Z,ah as ee,ai as se,aj as te,ak as ae,al as re,am as ne,an as ie}from"./vendor-OShbJJLN.js";import{R as _,A,C as D,X as L,Y as O,T as $,a as F,P as le,b as oe,c as ce}from"./charts-vendor-fKbLYTD6.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const de=({id:t,children:s,isDraggable:n=!1})=>{const{attributes:l,listeners:a,setNodeRef:i,transform:m,transition:d,isDragging:p}=Y({id:t}),y={transform:Q.Transform.toString(m),transition:d,opacity:p?.5:1};return e.jsxs("div",{ref:i,style:y,className:"relative group",children:[n&&e.jsx("div",{...l,...a,className:"absolute -top-2 -left-2 p-2 bg-gray-200 dark:bg-gray-700 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity cursor-move z-10",children:e.jsx(C,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),s]})};function x(t,s=2){if(t===0)return"0 Bytes";const n=1024,l=s<0?0:s,a=["Bytes","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,i)).toFixed(l))+" "+a[i]}function j(t,s=1){return`${t.toFixed(s)}%`}function xe(t){const s=Math.floor(t/86400),n=Math.floor(t%86400/3600),l=Math.floor(t%3600/60);return s>0?`${s}d ${n}h ${l}m`:n>0?`${n}h ${l}m`:`${l}m`}function me(t){return t>=1e3?`${(t/1e3).toFixed(2)} GHz`:`${t} MHz`}function I(t,s){const n=o.useRef([]);return o.useEffect(()=>{const a=new Date().toLocaleTimeString("en-US",{hour12:!1,minute:"2-digit",second:"2-digit"});n.current=[...n.current,{time:a,value:s}].slice(-60)},[s]),n.current}const he=({metrics:t})=>{const s=I("cpu",t.usage_percent),n=o.useMemo(()=>t.per_core_usage.map((l,a)=>({core:`Core ${a}`,usage:l})),[t.per_core_usage]);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"CPU Usage"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:j(t.usage_percent)}),e.jsx("p",{className:"text-sm text-gray-400",children:me(t.frequency_mhz)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(A,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"cpuGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),e.jsx(D,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(L,{dataKey:"time",stroke:"#9CA3AF"}),e.jsx(O,{domain:[0,100],stroke:"#9CA3AF"}),e.jsx($,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#9CA3AF"}}),e.jsx(F,{type:"monotone",dataKey:"value",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#cpuGradient)"})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Load Average"}),e.jsx("p",{className:"text-sm text-gray-300",children:t.load_average.map(l=>l.toFixed(2)).join(", ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Processes"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[t.processes_running," / ",t.processes_total]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"metric-label mb-2",children:"Per Core Usage"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:n.map(l=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative h-20 bg-gray-700 rounded overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-monitor-500 transition-all duration-300",style:{height:`${l.usage}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:j(l.usage,0)})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l.core})]},l.core))})]})]})]})},ge=({metrics:t})=>{const s=I("memory",t.usage_percent),n=[{name:"Used",value:t.used_bytes,color:"#0ea5e9"},{name:"Available",value:t.available_bytes,color:"#1e293b"}];return e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(E,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Memory Usage"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"metric-value",children:j(t.usage_percent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[x(t.used_bytes)," / ",x(t.total_bytes)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(A,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"memoryGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),e.jsx(D,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(L,{dataKey:"time",stroke:"#9CA3AF"}),e.jsx(O,{domain:[0,100],stroke:"#9CA3AF"}),e.jsx($,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#9CA3AF"}}),e.jsx(F,{type:"monotone",dataKey:"value",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#memoryGradient)"})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Physical Memory"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Used"}),e.jsx("span",{children:x(t.used_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Available"}),e.jsx("span",{children:x(t.available_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{children:x(t.total_bytes)})]})]})]}),t.swap_total_bytes>0&&e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Swap Memory"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Used"}),e.jsx("span",{children:x(t.swap_used_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{children:x(t.swap_total_bytes)})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(_,{width:120,height:120,children:e.jsx(le,{children:e.jsx(oe,{data:n,cx:60,cy:60,innerRadius:35,outerRadius:50,paddingAngle:2,dataKey:"value",children:n.map((l,a)=>e.jsx(ce,{fill:l.color},`cell-${a}`))})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold",children:j(t.usage_percent,0)})})]})})]})]})]})},ue=({disks:t})=>t.length===0?e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(v,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Disk Usage"})]}),e.jsx("p",{className:"text-gray-400",children:"No disk information available"})]}):e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(v,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Disk Usage"})]}),e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.mount_point}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.device_name," • ",s.fs_type]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-monitor-400",children:j(s.usage_percent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[x(s.used_bytes)," / ",x(s.total_bytes)]})]})]}),e.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-monitor-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.usage_percent}%`}})}),(s.read_bytes_per_sec>0||s.write_bytes_per_sec>0)&&e.jsxs("div",{className:"mt-2 flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["Read: ",x(s.read_bytes_per_sec),"/s"]}),e.jsxs("span",{className:"text-gray-400",children:["Write: ",x(s.write_bytes_per_sec),"/s"]})]})]},s.mount_point))})]}),pe=({networks:t})=>t.length===0?e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(S,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Network Interfaces"})]}),e.jsx("p",{className:"text-gray-400",children:"No network interfaces found"})]}):e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(S,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Network Interfaces"})]}),e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.is_up?e.jsx(P,{className:"w-4 h-4 text-green-400"}):e.jsx(z,{className:"w-4 h-4 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.interface_name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.mac_address})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`text-sm px-2 py-1 rounded ${s.is_up?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:s.is_up?"UP":"DOWN"})})]}),s.ip_addresses.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"IP Addresses:"}),e.jsx("p",{className:"text-sm",children:s.ip_addresses.join(", ")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Download"}),e.jsx("p",{className:"font-medium",children:x(s.bytes_received)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.packets_received.toLocaleString()," packets"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Upload"}),e.jsx("p",{className:"font-medium",children:x(s.bytes_sent)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.packets_sent.toLocaleString()," packets"]})]})]}),(s.errors_received>0||s.errors_sent>0)&&e.jsxs("div",{className:"mt-2 text-sm text-red-400",children:["Errors: ",s.errors_received," received, ",s.errors_sent," sent"]})]},s.interface_name))})]}),ye=({processes:t})=>{const[s,n]=o.useState("cpu"),l=[...t].sort((a,i)=>s==="cpu"?i.cpu_usage_percent-a.cpu_usage_percent:i.memory_bytes-a.memory_bytes);return e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Top Processes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>n("cpu"),className:`px-3 py-1 text-sm rounded transition-colors ${s==="cpu"?"bg-monitor-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sort by CPU"}),e.jsx("button",{onClick:()=>n("memory"),className:`px-3 py-1 text-sm rounded transition-colors ${s==="memory"?"bg-monitor-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sort by Memory"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-700",children:[e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400",children:"PID"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400",children:"Name"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"CPU"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"Memory"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-center",children:"Status"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"Threads"})]})}),e.jsx("tbody",{children:l.slice(0,10).map(a=>e.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[e.jsx("td",{className:"py-2 text-sm",children:a.pid}),e.jsx("td",{className:"py-2 text-sm font-medium max-w-xs truncate",title:a.name,children:a.name}),e.jsx("td",{className:"py-2 text-sm text-right",children:e.jsx("span",{className:a.cpu_usage_percent>50?"text-orange-400":"",children:j(a.cpu_usage_percent)})}),e.jsx("td",{className:"py-2 text-sm text-right",children:e.jsxs("div",{children:[e.jsx("span",{className:a.memory_percent>20?"text-orange-400":"",children:x(a.memory_bytes)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",j(a.memory_percent),")"]})]})}),e.jsx("td",{className:"py-2 text-sm text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.status==="Running"?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:a.status})}),e.jsx("td",{className:"py-2 text-sm text-right",children:a.threads})]},a.pid))})]})})]})},je=({systemInfo:t})=>{const s=Math.floor((new Date().getTime()-new Date(t.boot_time).getTime())/1e3);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-6 shadow-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"System Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(T,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Processor"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:t.cpu_brand}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.cpu_cores," cores, ",t.cpu_threads," threads"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(v,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:x(t.total_memory)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total System Memory"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(P,{className:"w-5 h-5 text-purple-500 dark:text-purple-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"System"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:t.hostname}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.os_name," ",t.os_version]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(w,{className:"w-5 h-5 text-orange-500 dark:text-orange-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Uptime"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:xe(s)}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.architecture," • Kernel ",t.kernel_version]})]})]})]})},be={small:"col-span-12 md:col-span-6 lg:col-span-3",medium:"col-span-12 md:col-span-6",large:"col-span-12 lg:col-span-8",full:"col-span-12"},Ne=({systemInfo:t,metrics:s})=>{const[n,l]=o.useState(!1),[a,i]=o.useState(()=>{const r=localStorage.getItem("dashboardLayout");return r?JSON.parse(r):[{id:"overview",title:"System Overview",component:je,props:{systemInfo:t},size:"full",visible:!0},{id:"cpu",title:"CPU Monitor",component:he,props:{metrics:s==null?void 0:s.cpu},size:"medium",visible:!0},{id:"memory",title:"Memory Monitor",component:ge,props:{metrics:s==null?void 0:s.memory},size:"medium",visible:!0},{id:"disk",title:"Disk Monitor",component:ue,props:{disks:s==null?void 0:s.disks},size:"medium",visible:!0},{id:"network",title:"Network Monitor",component:pe,props:{networks:s==null?void 0:s.networks},size:"medium",visible:!0},{id:"processes",title:"Process List",component:ye,props:{processes:s==null?void 0:s.top_processes},size:"full",visible:!0}]}),m=V(M(ie,{activationConstraint:{distance:8}}),M(ne,{coordinateGetter:re})),d=o.useCallback(r=>{const{active:h,over:g}=r;g&&h.id!==g.id&&i(c=>{const b=c.findIndex(f=>f.id===h.id),R=c.findIndex(f=>f.id===g.id),k=Z(c,b,R);return localStorage.setItem("dashboardLayout",JSON.stringify(k)),k})},[]),p=o.useCallback(r=>{i(h=>{const g=h.map(c=>c.id===r?{...c,visible:!c.visible}:c);return localStorage.setItem("dashboardLayout",JSON.stringify(g)),g})},[]),y=o.useCallback((r,h)=>{i(g=>{const c=g.map(b=>b.id===r?{...b,size:h}:b);return localStorage.setItem("dashboardLayout",JSON.stringify(c)),c})},[]),N=a.map(r=>{switch(r.id){case"overview":return{...r,props:{systemInfo:t}};case"cpu":return{...r,props:{metrics:s==null?void 0:s.cpu}};case"memory":return{...r,props:{metrics:s==null?void 0:s.memory}};case"disk":return{...r,props:{disks:s==null?void 0:s.disks}};case"network":return{...r,props:{networks:s==null?void 0:s.networks}};case"processes":return{...r,props:{processes:s==null?void 0:s.top_processes}};default:return r}}),u=N.filter(r=>r.visible);return!t||!s?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 dark:border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Initializing system monitoring..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{onClick:()=>l(!n),className:`
            flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors
            ${n?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}
          `,children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:n?"Done":"Customize Dashboard"})]})}),n&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-lg border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Widget Configuration"}),e.jsx("div",{className:"space-y-2",children:N.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"w-4 h-4 text-gray-400"}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.visible,onChange:()=>p(r.id),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{children:r.title})]})]}),e.jsxs("select",{value:r.size,onChange:h=>y(r.id,h.target.value),className:"text-sm px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",disabled:!r.visible,children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"full",children:"Full Width"})]})]},r.id))})]}),e.jsx(ee,{sensors:m,collisionDetection:se,onDragEnd:d,children:e.jsx(te,{items:u.map(r=>r.id),strategy:ae,children:e.jsx("div",{className:"grid grid-cols-12 gap-4",children:u.map(r=>e.jsx("div",{className:be[r.size],children:e.jsx(de,{id:r.id,isDraggable:n,children:e.jsx(r.component,{...r.props})})},r.id))})})})]})},fe=({systemInfo:t,metrics:s})=>e.jsx(Ne,{systemInfo:t,metrics:s}),U=o.createContext(void 0),ve=()=>{const t=o.useContext(U);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},_e=({children:t})=>{const[s,n]=o.useState(()=>localStorage.getItem("theme")||"system"),[l,a]=o.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),i=s==="system"?l:s;o.useEffect(()=>{localStorage.setItem("theme",s)},[s]),o.useEffect(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)"),p=y=>{a(y.matches?"dark":"light")};return d.addEventListener("change",p),()=>d.removeEventListener("change",p)},[]),o.useEffect(()=>{const d=document.documentElement;d.classList.remove("light","dark"),d.classList.add(i),d.style.colorScheme=i},[i]);const m=d=>{n(d)};return e.jsx(U.Provider,{value:{theme:s,setTheme:m,resolvedTheme:i},children:t})},we=()=>{const{theme:t,setTheme:s,resolvedTheme:n}=ve(),l=()=>{const i=["light","dark","system"],d=(i.indexOf(t)+1)%i.length;s(i[d])},a=()=>{switch(t){case"light":return e.jsx(K,{className:"w-5 h-5"});case"dark":return e.jsx(B,{className:"w-5 h-5"});case"system":return e.jsx(G,{className:"w-5 h-5"})}};return e.jsx("button",{onClick:l,className:`
        relative p-2 rounded-lg transition-all duration-200
        ${n==="dark"?"bg-gray-800 hover:bg-gray-700 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-700"}
      `,title:`Theme: ${t}`,children:e.jsx("div",{className:"relative",children:a()})})},ke=({systemInfo:t,isMonitoring:s,onToggleMonitoring:n})=>e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(w,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"System Monitor"}),t&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.hostname," • ",t.os_name," ",t.os_version," • ",t.cpu_brand]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{}),e.jsx("button",{onClick:n,className:`
                flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors
                ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}
              `,children:s?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Pause Monitoring"})]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:"Start Monitoring"})]})})]})]})})});function Se(){const[t,s]=o.useState(null),[n,l]=o.useState(null),[a,i]=o.useState(!1),[m,d]=o.useState(null),[p,y]=o.useState(!0);o.useEffect(()=>{(async()=>{try{if(window.__TAURI__){const{invoke:r}=window.__TAURI__.tauri,{listen:h}=window.__TAURI__.event;try{const c=await r("get_system_info");s(c)}catch(c){console.error("Failed to load system info:",c),d(`Failed to load system info: ${c}`)}try{await r("start_monitoring"),i(!0)}catch(c){console.error("Failed to start monitoring:",c),d(`Failed to start monitoring: ${c}`)}const g=await h("system-metrics",c=>{l(c.payload)});return()=>{g(),r("stop_monitoring").catch(console.error)}}else s({hostname:"localhost",os_name:"Linux",os_version:"6.11.0",kernel_version:"6.11.0-26-generic",architecture:"x86_64",cpu_brand:"Intel Core i7",cpu_cores:8,cpu_threads:16,total_memory:16777216e3,boot_time:new Date(Date.now()-864e5).toISOString()}),setInterval(()=>{l({timestamp:new Date().toISOString(),system_info:t,cpu:{usage_percent:Math.random()*100,frequency_mhz:2400,per_core_usage:Array(8).fill(0).map(()=>Math.random()*100),temperature_celsius:45+Math.random()*20,load_average:[1.2,1.5,1.8],processes_total:250,processes_running:5,context_switches:1e4,interrupts:5e4},memory:{total_bytes:16777216e3,used_bytes:8388608e3+Math.random()*2147483648,available_bytes:8388608e3,cached_bytes:2147483648,swap_total_bytes:4294967296,swap_used_bytes:1073741824,usage_percent:50+Math.random()*20,swap_usage_percent:25},gpus:[],disks:[],networks:[],top_processes:[]})},1e3)}catch(r){console.error("Initialization error:",r),d(`Initialization error: ${r}`)}finally{y(!1)}})()},[]);const N=async()=>{if(window.__TAURI__)try{const{invoke:u}=window.__TAURI__.tauri;a?(await u("stop_monitoring"),i(!1)):(await u("start_monitoring"),i(!0))}catch(u){console.error("Failed to toggle monitoring:",u),d(`Failed to toggle monitoring: ${u}`)}};return p?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading System Monitor..."})]})}):e.jsx(_e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[e.jsx(ke,{systemInfo:t,isMonitoring:a,onToggleMonitoring:N}),m&&e.jsx("div",{className:"mx-4 mt-4 p-4 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-lg",children:e.jsx("p",{className:"text-red-700 dark:text-red-200",children:m})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx(fe,{systemInfo:t,metrics:n})})]})})}J.createRoot(document.getElementById("root")).render(e.jsx(X.StrictMode,{children:e.jsx(Se,{})}));
