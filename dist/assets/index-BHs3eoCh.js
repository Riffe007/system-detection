import{u as J,C as X,j as e,G as O,r as c,a as P,R as A,A as $,b as F,X as L,Y as E,T as z,d as W,M as Y,P as Q,e as V,f as Z,H as I,N as U,W as G,h as ee,i as C,k as se,l as D,m as te,S as ae,D as re,n as ne,o as oe,p as ie,s as le,K as ce,q as de,t as me,v as xe,w as he,x as ue,y as ge,z as pe,B as ye}from"./react-vendor-DK8QC7UO.js";import"./vendor-DDj2Vpef.js";import"./charts-vendor-BmI93p5e.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();const be=({id:t,children:s,isDraggable:o=!1})=>{const{attributes:i,listeners:a,setNodeRef:n,transform:h,transition:l,isDragging:_}=J({id:t}),f={transform:X.Transform.toString(h),transition:l,opacity:_?.5:1};return e.jsxs("div",{ref:n,style:f,className:"relative group",children:[o&&e.jsx("div",{...i,...a,className:"absolute -top-2 -left-2 p-2 bg-gray-200 dark:bg-gray-700 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity cursor-move z-10",children:e.jsx(O,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),s]})};function d(t,s=2){if(t===0)return"0 Bytes";const o=1024,i=s<0?0:s,a=["Bytes","KB","MB","GB","TB","PB"],n=Math.floor(Math.log(t)/Math.log(o));return parseFloat((t/Math.pow(o,n)).toFixed(i))+" "+a[n]}function v(t,s=1){return`${t.toFixed(s)}%`}function _e(t){const s=Math.floor(t/86400),o=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return s>0?`${s}d ${o}h ${i}m`:o>0?`${o}h ${i}m`:`${i}m`}function je(t){return t>=1e3?`${(t/1e3).toFixed(2)} GHz`:`${t} MHz`}function B(t,s){const o=c.useRef([]);return c.useEffect(()=>{const a=new Date().toLocaleTimeString("en-US",{hour12:!1,minute:"2-digit",second:"2-digit"});o.current=[...o.current,{time:a,value:s}].slice(-60)},[s]),o.current}const fe=({metrics:t})=>{const s=B("cpu",t.usage_percent),o=c.useMemo(()=>t.per_core_usage.map((i,a)=>({core:`Core ${a}`,usage:i})),[t.per_core_usage]);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"CPU Usage"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:v(t.usage_percent)}),e.jsx("p",{className:"text-sm text-gray-400",children:je(t.frequency_mhz)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs($,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"cpuGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),e.jsx(F,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(L,{dataKey:"time",stroke:"#9CA3AF"}),e.jsx(E,{domain:[0,100],stroke:"#9CA3AF"}),e.jsx(z,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#9CA3AF"}}),e.jsx(W,{type:"monotone",dataKey:"value",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#cpuGradient)"})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Load Average"}),e.jsx("p",{className:"text-sm text-gray-300",children:t.load_average.map(i=>i.toFixed(2)).join(", ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Processes"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[t.processes_running," / ",t.processes_total]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"metric-label mb-2",children:"Per Core Usage"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:o.map(i=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative h-20 bg-gray-700 rounded overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-monitor-500 transition-all duration-300",style:{height:`${i.usage}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:v(i.usage,0)})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i.core})]},i.core))})]})]})]})},ve=({metrics:t})=>{const s=B("memory",t.usage_percent),o=[{name:"Used",value:t.used_bytes,color:"#0ea5e9"},{name:"Available",value:t.available_bytes,color:"#1e293b"}];return e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Memory Usage"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"metric-value",children:v(t.usage_percent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[d(t.used_bytes)," / ",d(t.total_bytes)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(A,{width:"100%",height:"100%",children:e.jsxs($,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"memoryGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),e.jsx(F,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(L,{dataKey:"time",stroke:"#9CA3AF"}),e.jsx(E,{domain:[0,100],stroke:"#9CA3AF"}),e.jsx(z,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#9CA3AF"}}),e.jsx(W,{type:"monotone",dataKey:"value",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#memoryGradient)"})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Physical Memory"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Used"}),e.jsx("span",{children:d(t.used_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Available"}),e.jsx("span",{children:d(t.available_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{children:d(t.total_bytes)})]})]})]}),t.swap_total_bytes>0&&e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Swap Memory"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Used"}),e.jsx("span",{children:d(t.swap_used_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{children:d(t.swap_total_bytes)})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{width:120,height:120,children:e.jsx(Q,{children:e.jsx(V,{data:o,cx:60,cy:60,innerRadius:35,outerRadius:50,paddingAngle:2,dataKey:"value",children:o.map((i,a)=>e.jsx(Z,{fill:i.color},`cell-${a}`))})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold",children:v(t.usage_percent,0)})})]})})]})]})]})},Ne=({disks:t})=>t.length===0?e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(I,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Disk Usage"})]}),e.jsx("p",{className:"text-gray-400",children:"No disk information available"})]}):e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(I,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Disk Usage"})]}),e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.mount_point}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.device_name," â€¢ ",s.fs_type]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-monitor-400",children:v(s.usage_percent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[d(s.used_bytes)," / ",d(s.total_bytes)]})]})]}),e.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-monitor-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.usage_percent}%`}})}),(s.read_bytes_per_sec>0||s.write_bytes_per_sec>0)&&e.jsxs("div",{className:"mt-2 flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["Read: ",d(s.read_bytes_per_sec),"/s"]}),e.jsxs("span",{className:"text-gray-400",children:["Write: ",d(s.write_bytes_per_sec),"/s"]})]})]},s.mount_point))})]}),we=({networks:t})=>t.length===0?e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Network Interfaces"})]}),e.jsx("p",{className:"text-gray-400",children:"No network interfaces found"})]}):e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Network Interfaces"})]}),e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.is_up?e.jsx(G,{className:"w-4 h-4 text-green-400"}):e.jsx(ee,{className:"w-4 h-4 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.interface_name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.mac_address})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`text-sm px-2 py-1 rounded ${s.is_up?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:s.is_up?"UP":"DOWN"})})]}),s.ip_addresses.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"IP Addresses:"}),e.jsx("p",{className:"text-sm",children:s.ip_addresses.join(", ")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Download"}),e.jsx("p",{className:"font-medium",children:d(s.bytes_received)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.packets_received.toLocaleString()," packets"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Upload"}),e.jsx("p",{className:"font-medium",children:d(s.bytes_sent)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.packets_sent.toLocaleString()," packets"]})]})]}),(s.errors_received>0||s.errors_sent>0)&&e.jsxs("div",{className:"mt-2 text-sm text-red-400",children:["Errors: ",s.errors_received," received, ",s.errors_sent," sent"]})]},s.interface_name))})]}),ke=({processes:t})=>{const[s,o]=c.useState("cpu"),i=[...t].sort((a,n)=>s==="cpu"?n.cpu_usage_percent-a.cpu_usage_percent:n.memory_bytes-a.memory_bytes);return e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Top Processes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>o("cpu"),className:`px-3 py-1 text-sm rounded transition-colors ${s==="cpu"?"bg-monitor-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sort by CPU"}),e.jsx("button",{onClick:()=>o("memory"),className:`px-3 py-1 text-sm rounded transition-colors ${s==="memory"?"bg-monitor-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sort by Memory"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-700",children:[e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400",children:"PID"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400",children:"Name"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"CPU"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"Memory"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-center",children:"Status"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"Threads"})]})}),e.jsx("tbody",{children:i.slice(0,10).map(a=>e.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[e.jsx("td",{className:"py-2 text-sm",children:a.pid}),e.jsx("td",{className:"py-2 text-sm font-medium max-w-xs truncate",title:a.name,children:a.name}),e.jsx("td",{className:"py-2 text-sm text-right",children:e.jsx("span",{className:a.cpu_usage_percent>50?"text-orange-400":"",children:v(a.cpu_usage_percent)})}),e.jsx("td",{className:"py-2 text-sm text-right",children:e.jsxs("div",{children:[e.jsx("span",{className:a.memory_percent>20?"text-orange-400":"",children:d(a.memory_bytes)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",v(a.memory_percent),")"]})]})}),e.jsx("td",{className:"py-2 text-sm text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.status==="Running"?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:a.status})}),e.jsx("td",{className:"py-2 text-sm text-right",children:a.threads})]},a.pid))})]})})]})},Me=({systemInfo:t})=>{const s=Math.floor((new Date().getTime()-new Date(t.boot_time).getTime())/1e3);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-6 shadow-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"System Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(P,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Processor"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:t.cpu_brand}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.cpu_cores," cores, ",t.cpu_threads," threads"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:d(t.total_memory)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total System Memory"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(G,{className:"w-5 h-5 text-purple-500 dark:text-purple-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"System"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:t.hostname}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.os_name," ",t.os_version]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(C,{className:"w-5 h-5 text-orange-500 dark:text-orange-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Uptime"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:_e(s)}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.architecture," â€¢ Kernel ",t.kernel_version]})]})]})]})},Se={small:"col-span-12 md:col-span-6 lg:col-span-3",medium:"col-span-12 md:col-span-6",large:"col-span-12 lg:col-span-8",full:"col-span-12"},Te=({systemInfo:t,metrics:s})=>{const[o,i]=c.useState(!1),[a,n]=c.useState(()=>{const r=localStorage.getItem("dashboardLayout");return r?JSON.parse(r):[{id:"overview",title:"System Overview",component:Me,props:{systemInfo:t},size:"full",visible:!0},{id:"cpu",title:"CPU Monitor",component:fe,props:{metrics:s==null?void 0:s.cpu},size:"medium",visible:!0},{id:"memory",title:"Memory Monitor",component:ve,props:{metrics:s==null?void 0:s.memory},size:"medium",visible:!0},{id:"disk",title:"Disk Monitor",component:Ne,props:{disks:s==null?void 0:s.disks},size:"medium",visible:!0},{id:"network",title:"Network Monitor",component:we,props:{networks:s==null?void 0:s.networks},size:"medium",visible:!0},{id:"processes",title:"Process List",component:ke,props:{processes:s==null?void 0:s.top_processes},size:"full",visible:!0}]}),h=se(D(de,{activationConstraint:{distance:8}}),D(ce,{coordinateGetter:le})),l=c.useCallback(r=>{const{active:m,over:g}=r;g&&m.id!==g.id&&n(x=>{const u=x.findIndex(p=>p.id===m.id),S=x.findIndex(p=>p.id===g.id),w=te(x,u,S);return localStorage.setItem("dashboardLayout",JSON.stringify(w)),w})},[]),_=c.useCallback(r=>{n(m=>{const g=m.map(x=>x.id===r?{...x,visible:!x.visible}:x);return localStorage.setItem("dashboardLayout",JSON.stringify(g)),g})},[]),f=c.useCallback((r,m)=>{n(g=>{const x=g.map(u=>u.id===r?{...u,size:m}:u);return localStorage.setItem("dashboardLayout",JSON.stringify(x)),x})},[]),M=a.map(r=>{switch(r.id){case"overview":return{...r,props:{systemInfo:t}};case"cpu":return{...r,props:{metrics:s==null?void 0:s.cpu}};case"memory":return{...r,props:{metrics:s==null?void 0:s.memory}};case"disk":return{...r,props:{disks:s==null?void 0:s.disks}};case"network":return{...r,props:{networks:s==null?void 0:s.networks}};case"processes":return{...r,props:{processes:s==null?void 0:s.top_processes}};default:return r}}),j=M.filter(r=>r.visible);return!t||!s?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 dark:border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Initializing system monitoring..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{onClick:()=>i(!o),className:`
            flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors
            ${o?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}
          `,children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Done":"Customize Dashboard"})]})}),o&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-lg border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Widget Configuration"}),e.jsx("div",{className:"space-y-2",children:M.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{className:"w-4 h-4 text-gray-400"}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.visible,onChange:()=>_(r.id),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{children:r.title})]})]}),e.jsxs("select",{value:r.size,onChange:m=>f(r.id,m.target.value),className:"text-sm px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",disabled:!r.visible,children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"full",children:"Full Width"})]})]},r.id))})]}),e.jsx(re,{sensors:h,collisionDetection:ne,onDragEnd:l,children:e.jsx(oe,{items:j.map(r=>r.id),strategy:ie,children:e.jsx("div",{className:"grid grid-cols-12 gap-4",children:j.map(r=>e.jsx("div",{className:Se[r.size],children:e.jsx(be,{id:r.id,isDraggable:o,children:e.jsx(r.component,{...r.props})})},r.id))})})})]})},Ae=({systemInfo:t,metrics:s})=>e.jsx(Te,{systemInfo:t,metrics:s}),K=c.createContext(void 0),Ie=()=>{const t=c.useContext(K);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Ce=({children:t})=>{const[s,o]=c.useState(()=>localStorage.getItem("theme")||"system"),[i,a]=c.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),n=s==="system"?i:s;c.useEffect(()=>{localStorage.setItem("theme",s)},[s]),c.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),_=f=>{a(f.matches?"dark":"light")};return l.addEventListener("change",_),()=>l.removeEventListener("change",_)},[]),c.useEffect(()=>{const l=document.documentElement;l.classList.remove("light","dark"),l.classList.add(n),l.style.colorScheme=n},[n]);const h=l=>{o(l)};return e.jsx(K.Provider,{value:{theme:s,setTheme:h,resolvedTheme:n},children:t})},Ue=()=>{const{theme:t,setTheme:s,resolvedTheme:o}=Ie(),i=()=>{const n=["light","dark","system"],l=(n.indexOf(t)+1)%n.length;s(n[l])},a=()=>{switch(t){case"light":return e.jsx(he,{className:"w-5 h-5"});case"dark":return e.jsx(xe,{className:"w-5 h-5"});case"system":return e.jsx(me,{className:"w-5 h-5"})}};return e.jsx("button",{onClick:i,className:`
        relative p-2 rounded-lg transition-all duration-200
        ${o==="dark"?"bg-gray-800 hover:bg-gray-700 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-700"}
      `,title:`Theme: ${t}`,children:e.jsx("div",{className:"relative",children:a()})})},De=({systemInfo:t,isMonitoring:s,onToggleMonitoring:o})=>e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(C,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"System Monitor"}),t&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.hostname," â€¢ ",t.os_name," ",t.os_version," â€¢ ",t.cpu_brand]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ue,{}),e.jsx("button",{onClick:o,className:`
                flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors
                ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}
              `,children:s?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Pause Monitoring"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Start Monitoring"})]})})]})]})})}),H={hostname:"dev-machine",os_name:"Linux",os_version:"5.15.0",kernel_version:"5.15.0-generic",architecture:"x86_64",cpu_brand:"Intel Core i7-9700K",cpu_cores:8,cpu_threads:8,total_memory:16*1024*1024*1024,boot_time:new Date(Date.now()-36e5).toISOString()};let N=null,T=null;const R=()=>{const s=Math.sin(Date.now()/5e3)*20;return{timestamp:new Date().toISOString(),system_info:H,cpu:{usage_percent:Math.max(0,Math.min(100,30+s+Math.random()*10)),frequency_mhz:3600,per_core_usage:Array(8).fill(0).map(()=>Math.max(0,Math.min(100,30+Math.random()*30))),temperature_celsius:45+Math.random()*15,load_average:[1.2,.8,.9],context_switches:1e5+Math.floor(Math.random()*5e4),interrupts:5e4+Math.floor(Math.random()*1e4),processes_total:250+Math.floor(Math.random()*50),processes_running:2+Math.floor(Math.random()*5)},memory:{total_bytes:16*1024*1024*1024,used_bytes:8*1024*1024*1024+Math.random()*2*1024*1024*1024,available_bytes:8*1024*1024*1024-Math.random()*2*1024*1024*1024,cached_bytes:2*1024*1024*1024,swap_total_bytes:8*1024*1024*1024,swap_used_bytes:Math.random()*1024*1024*1024,usage_percent:50+s/2+Math.random()*10,swap_usage_percent:Math.random()*20},gpus:[],disks:[{mount_point:"/",device_name:"/dev/sda1",fs_type:"ext4",total_bytes:512*1024*1024*1024,used_bytes:256*1024*1024*1024,available_bytes:256*1024*1024*1024,usage_percent:50,read_bytes_per_sec:Math.random()*10*1024*1024,write_bytes_per_sec:Math.random()*5*1024*1024,io_operations_per_sec:Math.floor(Math.random()*1e3)},{mount_point:"/home",device_name:"/dev/sda2",fs_type:"ext4",total_bytes:1024*1024*1024*1024,used_bytes:600*1024*1024*1024,available_bytes:424*1024*1024*1024,usage_percent:58.6,read_bytes_per_sec:Math.random()*5*1024*1024,write_bytes_per_sec:Math.random()*3*1024*1024,io_operations_per_sec:Math.floor(Math.random()*500)}],networks:[{interface_name:"eth0",mac_address:"00:11:22:33:44:55",bytes_sent:Math.floor(Math.random()*1024*1024*1024),bytes_received:Math.floor(Math.random()*2*1024*1024*1024),packets_sent:Math.floor(Math.random()*1e6),packets_received:Math.floor(Math.random()*2e6),bytes_sent_rate:Math.random()*1024*1024,bytes_received_rate:Math.random()*2*1024*1024,is_up:!0,ip_addresses:["192.168.1.100"],errors_sent:0,errors_received:0}],top_processes:[{pid:1234,name:"firefox",cpu_usage_percent:15+Math.random()*10,memory_bytes:1.5*1024*1024*1024,memory_percent:9.5,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:120,start_time:new Date(Date.now()-72e5).toISOString()},{pid:5678,name:"code",cpu_usage_percent:10+Math.random()*5,memory_bytes:800*1024*1024,memory_percent:5,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:45,start_time:new Date(Date.now()-36e5).toISOString()},{pid:9012,name:"chrome",cpu_usage_percent:8+Math.random()*5,memory_bytes:1.2*1024*1024*1024,memory_percent:7.5,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:89,start_time:new Date(Date.now()-18e5).toISOString()},{pid:3456,name:"node",cpu_usage_percent:5+Math.random()*3,memory_bytes:256*1024*1024,memory_percent:1.6,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:12,start_time:new Date(Date.now()-6e5).toISOString()},{pid:7890,name:"systemd",cpu_usage_percent:2+Math.random()*2,memory_bytes:128*1024*1024,memory_percent:.8,disk_read_bytes:0,disk_write_bytes:0,status:"Sleeping",threads:1,start_time:new Date(Date.now()-864e5).toISOString()}]}},k={invoke:async(t,s)=>{switch(console.log(`Mock Tauri invoke: ${t}`,s),t){case"get_system_info":return H;case"start_monitoring":N&&clearInterval(N),N=setInterval(()=>{T&&T(R())},1e3);return;case"stop_monitoring":N&&(clearInterval(N),N=null);return;case"get_current_metrics":return R();default:return console.warn(`Unknown Tauri command: ${t}`),null}}},Re=(t,s)=>(console.log(`Mock Tauri listen: ${t}`),T=o=>s({payload:o}),Promise.resolve(()=>{T=null}));function Oe(){const[t,s]=c.useState(null),[o,i]=c.useState(null),[a,n]=c.useState(!1),[h,l]=c.useState(null),[_,f]=c.useState(!0);c.useEffect(()=>{(async()=>{var r,m,g,x;try{await new Promise(p=>setTimeout(p,100)),console.log("Tauri window object:",window.__TAURI__),console.log("Window object keys:",Object.keys(window)),console.log("All window properties:",Object.getOwnPropertyNames(window));const u=window.__TAURI__;console.log("Raw Tauri object:",u),console.log("Tauri object keys:",u?Object.keys(u):"undefined");const S=window.__TAURI__&&window.__TAURI__.tauri&&window.__TAURI__.event&&typeof window.__TAURI__.tauri.invoke=="function",w=navigator.userAgent.includes("Tauri")||window.location.protocol==="tauri:"||window.location.href.includes("tauri");if(console.log("Is Tauri available:",S),console.log("Is Tauri webview:",w),console.log("User agent:",navigator.userAgent),console.log("Location:",window.location.href),S||w){if(console.log("Using real Tauri backend"),!((m=(r=window.__TAURI__)==null?void 0:r.tauri)!=null&&m.invoke))throw console.error("Tauri invoke not available, falling back to mock"),new Error("Tauri APIs not available");const{invoke:p}=window.__TAURI__.tauri,{listen:y}=window.__TAURI__.event;try{const b=await p("get_system_info");s(b)}catch(b){console.error("Failed to load system info:",b),l(`Failed to load system info: ${b}`)}try{await p("start_monitoring"),n(!0)}catch(b){console.error("Failed to start monitoring:",b),l(`Failed to start monitoring: ${b}`)}const q=await y("system-metrics",b=>{i(b.payload)});return()=>{q(),p("stop_monitoring").catch(console.error)}}else{console.log("Tauri not available, using mock service"),console.log("Window object:",window),console.log("Tauri object details:",{hasTauri:!!window.__TAURI__,hasTauriTauri:!!(window.__TAURI__&&window.__TAURI__.tauri),hasTauriEvent:!!(window.__TAURI__&&window.__TAURI__.event),invokeType:(x=(g=window.__TAURI__)==null?void 0:g.tauri)!=null&&x.invoke?typeof window.__TAURI__.tauri.invoke:"undefined"});try{const y=await k.invoke("get_system_info");s(y)}catch(y){console.error("Failed to load mock system info:",y),l(`Failed to load system info: ${y}`)}try{await k.invoke("start_monitoring"),n(!0)}catch(y){console.error("Failed to start mock monitoring:",y),l(`Failed to start monitoring: ${y}`)}const p=await Re("system-metrics",y=>{i(y.payload)});return()=>{p(),k.invoke("stop_monitoring").catch(console.error)}}}catch(u){console.error("Initialization error:",u),l(`Initialization error: ${u}`)}finally{f(!1)}})()},[]);const M=async()=>{try{const j=window.__TAURI__&&window.__TAURI__.tauri&&window.__TAURI__.event&&typeof window.__TAURI__.tauri.invoke=="function",r=navigator.userAgent.includes("Tauri")||window.location.protocol==="tauri:"||window.location.href.includes("tauri");if(j||r){const{invoke:m}=window.__TAURI__.tauri;a?(await m("stop_monitoring"),n(!1)):(await m("start_monitoring"),n(!0))}else a?(await k.invoke("stop_monitoring"),n(!1)):(await k.invoke("start_monitoring"),n(!0))}catch(j){console.error("Failed to toggle monitoring:",j),l(`Failed to toggle monitoring: ${j}`)}};return _?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading System Monitor..."})]})}):e.jsx(Ce,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[e.jsx(De,{systemInfo:t,isMonitoring:a,onToggleMonitoring:M}),h&&e.jsx("div",{className:"mx-4 mt-4 p-4 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-lg",children:e.jsx("p",{className:"text-red-700 dark:text-red-200",children:h})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx(Ae,{systemInfo:t,metrics:o})})]})})}pe.createRoot(document.getElementById("root")).render(e.jsx(ye.StrictMode,{children:e.jsx(Oe,{})}));
