const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DWKn6ydv.js","assets/react-vendor-BUir1GWB.js","assets/charts-vendor-BEXFg3NO.js"])))=>i.map(i=>d[i]);
import{C as Z,m as e,G as $,r as d,n as z,o as I,A as W,p as G,X as K,Y as B,T as q,q as H,M as ee,P as te,t as se,v as re,H as A,N as C,W as V,w as ae,x as U,y as oe,z as E,S as ne,D as ie,B as le,E as ce,F as de,I as me,J as xe,L as ue,O as he,Q as ge,U as pe,R as _e}from"./react-vendor-BUir1GWB.js";import{ac as ye,ad as fe,ae as be,af as je,ag as ve}from"./vendor-DWKn6ydv.js";import"./charts-vendor-BEXFg3NO.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}})();const Ne=({id:s,children:t,isDraggable:o=!1})=>{const{attributes:n,listeners:r,setNodeRef:a,transform:l,transition:c,isDragging:x}=ye({id:s}),f={transform:Z.Transform.toString(l),transition:c,opacity:x?.5:1};return e.jsxs("div",{ref:a,style:f,className:"relative group",children:[o&&e.jsx("div",{...n,...r,className:"absolute -top-2 -left-2 p-2 bg-gray-200 dark:bg-gray-700 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity cursor-move z-10",children:e.jsx($,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),t]})};function p(s,t=2){if(s===0)return"0 Bytes";const o=1024,n=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB"],a=Math.floor(Math.log(s)/Math.log(o));return parseFloat((s/Math.pow(o,a)).toFixed(n))+" "+r[a]}function v(s,t=1){return`${s.toFixed(t)}%`}function we(s){const t=Math.floor(s/86400),o=Math.floor(s%86400/3600),n=Math.floor(s%3600/60);return t>0?`${t}d ${o}h ${n}m`:o>0?`${o}h ${n}m`:`${n}m`}function ke(s){return s>=1e3?`${(s/1e3).toFixed(2)} GHz`:`${s} MHz`}function J(s,t){const o=d.useRef([]);return d.useEffect(()=>{const r=new Date().toLocaleTimeString("en-US",{hour12:!1,minute:"2-digit",second:"2-digit"});o.current=[...o.current,{time:r,value:t}].slice(-60)},[t]),o.current}const Te=({metrics:s})=>{const t=J("cpu",s.usage_percent),o=d.useMemo(()=>s.per_core_usage.map((a,l)=>({core:`Core ${l}`,usage:a})),[s.per_core_usage]),n=d.useMemo(()=>{const a=s.per_core_usage.length;return a<=4?"grid-cols-2 sm:grid-cols-4":a<=8?"grid-cols-4 sm:grid-cols-4 md:grid-cols-8":a<=16?"grid-cols-4 sm:grid-cols-8 md:grid-cols-8 lg:grid-cols-8":a<=32?"grid-cols-8 sm:grid-cols-8 md:grid-cols-16":"grid-cols-8 sm:grid-cols-12 md:grid-cols-16"},[s.per_core_usage.length]),r=s.per_core_usage.length<=32;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(z,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"CPU Usage"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:v(s.usage_percent)}),e.jsx("p",{className:"text-sm text-gray-400",children:ke(s.frequency_mhz)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(I,{width:"100%",height:"100%",children:e.jsxs(W,{data:t,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"cpuGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),e.jsx(G,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(K,{dataKey:"time",stroke:"#9CA3AF"}),e.jsx(B,{domain:[0,100],stroke:"#9CA3AF"}),e.jsx(q,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#9CA3AF"}}),e.jsx(H,{type:"monotone",dataKey:"value",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#cpuGradient)"})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Load Average"}),e.jsx("p",{className:"text-sm text-gray-300",children:s.load_average.map(a=>a.toFixed(2)).join(", ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Processes"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[s.processes_running," / ",s.processes_total]})]})]}),r?e.jsxs("div",{children:[e.jsxs("p",{className:"metric-label mb-2",children:["Per Core Usage (",s.per_core_usage.length," cores)"]}),e.jsx("div",{className:`grid ${n} gap-1`,children:o.map((a,l)=>e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative h-12 bg-gray-700 rounded overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-monitor-500 transition-all duration-300",style:{height:`${a.usage}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:v(a.usage,0)})})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["C",l]})]},a.core))})]}):e.jsxs("div",{children:[e.jsxs("p",{className:"metric-label mb-2",children:["Core Summary (",s.per_core_usage.length," cores)"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Average"}),e.jsx("p",{className:"text-lg font-semibold",children:v(s.per_core_usage.reduce((a,l)=>a+l,0)/s.per_core_usage.length)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Highest"}),e.jsx("p",{className:"text-lg font-semibold",children:v(Math.max(...s.per_core_usage))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Lowest"}),e.jsx("p",{className:"text-lg font-semibold",children:v(Math.min(...s.per_core_usage))})]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Individual core view disabled for high core count systems"})]})]})]})},Me=({metrics:s})=>{const t=J("memory",s.usage_percent),o=[{name:"Used",value:s.used_bytes,color:"#0ea5e9"},{name:"Available",value:s.available_bytes,color:"#1e293b"}];return e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Memory Usage"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"metric-value",children:v(s.usage_percent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[p(s.used_bytes)," / ",p(s.total_bytes)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(I,{width:"100%",height:"100%",children:e.jsxs(W,{data:t,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"memoryGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),e.jsx(G,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(K,{dataKey:"time",stroke:"#9CA3AF"}),e.jsx(B,{domain:[0,100],stroke:"#9CA3AF"}),e.jsx(q,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#9CA3AF"}}),e.jsx(H,{type:"monotone",dataKey:"value",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#memoryGradient)"})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Physical Memory"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Used"}),e.jsx("span",{children:p(s.used_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Available"}),e.jsx("span",{children:p(s.available_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{children:p(s.total_bytes)})]})]})]}),s.swap_total_bytes>0&&e.jsxs("div",{children:[e.jsx("p",{className:"metric-label",children:"Swap Memory"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Used"}),e.jsx("span",{children:p(s.swap_used_bytes)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsx("span",{children:p(s.swap_total_bytes)})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{width:120,height:120,children:e.jsx(te,{children:e.jsx(se,{data:o,cx:60,cy:60,innerRadius:35,outerRadius:50,paddingAngle:2,dataKey:"value",children:o.map((n,r)=>e.jsx(re,{fill:n.color},`cell-${r}`))})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold",children:v(s.usage_percent,0)})})]})})]})]})]})},Se=({disks:s})=>s.length===0?e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(A,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Disk Usage"})]}),e.jsx("p",{className:"text-gray-400",children:"No disk information available"})]}):e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(A,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Disk Usage"})]}),e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.mount_point}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.device_name," • ",t.fs_type]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-monitor-400",children:v(t.usage_percent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[p(t.used_bytes)," / ",p(t.total_bytes)]})]})]}),e.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-monitor-500 h-2 rounded-full transition-all duration-300",style:{width:`${t.usage_percent}%`}})}),(t.read_bytes_per_sec>0||t.write_bytes_per_sec>0)&&e.jsxs("div",{className:"mt-2 flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["Read: ",p(t.read_bytes_per_sec),"/s"]}),e.jsxs("span",{className:"text-gray-400",children:["Write: ",p(t.write_bytes_per_sec),"/s"]})]})]},t.mount_point))})]}),Ie=({networks:s})=>s.length===0?e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(C,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Network Interfaces"})]}),e.jsx("p",{className:"text-gray-400",children:"No network interfaces found"})]}):e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(C,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Network Interfaces"})]}),e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[t.is_up?e.jsx(V,{className:"w-4 h-4 text-green-400"}):e.jsx(ae,{className:"w-4 h-4 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.interface_name}),e.jsx("p",{className:"text-sm text-gray-400",children:t.mac_address})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`text-sm px-2 py-1 rounded ${t.is_up?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:t.is_up?"UP":"DOWN"})})]}),t.ip_addresses.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"IP Addresses:"}),e.jsx("p",{className:"text-sm",children:t.ip_addresses.join(", ")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Download"}),e.jsx("p",{className:"font-medium",children:p(t.bytes_received)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.packets_received.toLocaleString()," packets"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Upload"}),e.jsx("p",{className:"font-medium",children:p(t.bytes_sent)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.packets_sent.toLocaleString()," packets"]})]})]}),(t.errors_received>0||t.errors_sent>0)&&e.jsxs("div",{className:"mt-2 text-sm text-red-400",children:["Errors: ",t.errors_received," received, ",t.errors_sent," sent"]})]},t.interface_name))})]}),Ae=({processes:s})=>{const[t,o]=d.useState("cpu"),n=[...s].sort((r,a)=>t==="cpu"?a.cpu_usage_percent-r.cpu_usage_percent:a.memory_bytes-r.memory_bytes);return e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{className:"w-6 h-6 text-monitor-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Top Processes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>o("cpu"),className:`px-3 py-1 text-sm rounded transition-colors ${t==="cpu"?"bg-monitor-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sort by CPU"}),e.jsx("button",{onClick:()=>o("memory"),className:`px-3 py-1 text-sm rounded transition-colors ${t==="memory"?"bg-monitor-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sort by Memory"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-700",children:[e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400",children:"PID"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400",children:"Name"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"CPU"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"Memory"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-center",children:"Status"}),e.jsx("th",{className:"pb-2 text-sm font-medium text-gray-400 text-right",children:"Threads"})]})}),e.jsx("tbody",{children:n.slice(0,10).map(r=>e.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30",children:[e.jsx("td",{className:"py-2 text-sm",children:r.pid}),e.jsx("td",{className:"py-2 text-sm font-medium max-w-xs truncate",title:r.name,children:r.name}),e.jsx("td",{className:"py-2 text-sm text-right",children:e.jsx("span",{className:r.cpu_usage_percent>50?"text-orange-400":"",children:v(r.cpu_usage_percent)})}),e.jsx("td",{className:"py-2 text-sm text-right",children:e.jsxs("div",{children:[e.jsx("span",{className:r.memory_percent>20?"text-orange-400":"",children:p(r.memory_bytes)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",v(r.memory_percent),")"]})]})}),e.jsx("td",{className:"py-2 text-sm text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.status==="Running"?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:r.status})}),e.jsx("td",{className:"py-2 text-sm text-right",children:r.threads})]},r.pid))})]})})]})},Ue=({systemInfo:s})=>{const t=Math.floor(Date.now()/1e3)-s.boot_time;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-6 shadow-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"System Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(z,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Processor"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:s.cpu_brand}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.cpu_cores," cores, ",s.cpu_threads," threads"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(A,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:p(s.total_memory)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total System Memory"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(V,{className:"w-5 h-5 text-purple-500 dark:text-purple-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"System"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:s.hostname}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.os_name," ",s.os_version]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(U,{className:"w-5 h-5 text-orange-500 dark:text-orange-400 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Uptime"})]}),e.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:we(t)}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.architecture," • Kernel ",s.kernel_version]})]})]})]})},Re={small:"col-span-12 md:col-span-6 lg:col-span-3",medium:"col-span-12 md:col-span-6",large:"col-span-12 lg:col-span-8",full:"col-span-12"},Ce=({systemInfo:s,metrics:t})=>{const[o,n]=d.useState(!1),[r,a]=d.useState(()=>{const i=localStorage.getItem("dashboardLayout");return i?JSON.parse(i):[{id:"overview",title:"System Overview",component:Ue,props:{systemInfo:s},size:"full",visible:!0},{id:"cpu",title:"CPU Monitor",component:Te,props:{metrics:t==null?void 0:t.cpu},size:"medium",visible:!0},{id:"memory",title:"Memory Monitor",component:Me,props:{metrics:t==null?void 0:t.memory},size:"medium",visible:!0},{id:"disk",title:"Disk Monitor",component:Se,props:{disks:t==null?void 0:t.disks},size:"medium",visible:!0},{id:"network",title:"Network Monitor",component:Ie,props:{networks:t==null?void 0:t.networks},size:"medium",visible:!0},{id:"processes",title:"Process List",component:Ae,props:{processes:t==null?void 0:t.top_processes},size:"full",visible:!0}]}),l=oe(E(de,{activationConstraint:{distance:8}}),E(ce,{coordinateGetter:ve})),c=d.useCallback(i=>{const{active:h,over:g}=i;g&&h.id!==g.id&&a(y=>{const j=y.findIndex(u=>u.id===h.id),M=y.findIndex(u=>u.id===g.id),b=fe(y,j,M);return localStorage.setItem("dashboardLayout",JSON.stringify(b)),b})},[]),x=d.useCallback(i=>{a(h=>{const g=h.map(y=>y.id===i?{...y,visible:!y.visible}:y);return localStorage.setItem("dashboardLayout",JSON.stringify(g)),g})},[]),f=d.useCallback((i,h)=>{a(g=>{const y=g.map(j=>j.id===i?{...j,size:h}:j);return localStorage.setItem("dashboardLayout",JSON.stringify(y)),y})},[]),N=r.map(i=>{switch(i.id){case"overview":return{...i,props:{systemInfo:s}};case"cpu":return{...i,props:{metrics:t==null?void 0:t.cpu}};case"memory":return{...i,props:{metrics:t==null?void 0:t.memory}};case"disk":return{...i,props:{disks:t==null?void 0:t.disks}};case"network":return{...i,props:{networks:t==null?void 0:t.networks}};case"processes":return{...i,props:{processes:t==null?void 0:t.top_processes}};default:return i}}),_=N.filter(i=>i.visible);return!s||!t?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 dark:border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Initializing system monitoring..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{onClick:()=>n(!o),className:`
            flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors
            ${o?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}
          `,children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Done":"Customize Dashboard"})]})}),o&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-lg border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Widget Configuration"}),e.jsx("div",{className:"space-y-2",children:N.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($,{className:"w-4 h-4 text-gray-400"}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.visible,onChange:()=>x(i.id),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{children:i.title})]})]}),e.jsxs("select",{value:i.size,onChange:h=>f(i.id,h.target.value),className:"text-sm px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",disabled:!i.visible,children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"full",children:"Full Width"})]})]},i.id))})]}),e.jsx(ie,{sensors:l,collisionDetection:le,onDragEnd:c,children:e.jsx(be,{items:_.map(i=>i.id),strategy:je,children:e.jsx("div",{className:"grid grid-cols-12 gap-4",children:_.map(i=>e.jsx("div",{className:Re[i.size],children:e.jsx(Ne,{id:i.id,isDraggable:o,children:e.jsx(i.component,{...i.props})})},i.id))})})})]})},Ee=({systemInfo:s,metrics:t})=>e.jsx(Ce,{systemInfo:s,metrics:t}),Y=d.createContext(void 0),De=()=>{const s=d.useContext(Y);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s},Pe=({children:s})=>{const[t,o]=d.useState(()=>localStorage.getItem("theme")||"system"),[n,r]=d.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),a=t==="system"?n:t;d.useEffect(()=>{localStorage.setItem("theme",t)},[t]),d.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),x=f=>{r(f.matches?"dark":"light")};return c.addEventListener("change",x),()=>c.removeEventListener("change",x)},[]),d.useEffect(()=>{const c=document.documentElement;c.classList.remove("light","dark"),c.classList.add(a),c.style.colorScheme=a},[a]);const l=c=>{o(c)};return e.jsx(Y.Provider,{value:{theme:t,setTheme:l,resolvedTheme:a},children:s})},Oe=()=>{const{theme:s,setTheme:t,resolvedTheme:o}=De(),n=()=>{const a=["light","dark","system"],c=(a.indexOf(s)+1)%a.length;t(a[c])},r=()=>{switch(s){case"light":return e.jsx(ue,{className:"w-5 h-5"});case"dark":return e.jsx(xe,{className:"w-5 h-5"});case"system":return e.jsx(me,{className:"w-5 h-5"})}};return e.jsx("button",{onClick:n,className:`
        relative p-2 rounded-lg transition-all duration-200
        ${o==="dark"?"bg-gray-800 hover:bg-gray-700 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-700"}
      `,title:`Theme: ${s}`,children:e.jsx("div",{className:"relative",children:r()})})},Le=({systemInfo:s,isMonitoring:t,onToggleMonitoring:o})=>e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(U,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"System Monitor"}),s&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.hostname," • ",s.os_name," ",s.os_version," • ",s.cpu_brand]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Oe,{}),e.jsx("button",{onClick:o,className:`
                flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors
                ${t?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}
              `,children:t?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Pause Monitoring"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Start Monitoring"})]})})]})]})})}),Q={hostname:"dev-machine",os_name:"Linux",os_version:"5.15.0",kernel_version:"5.15.0-generic",architecture:"x86_64",cpu_brand:"Intel Core i7-9700K",cpu_cores:8,cpu_threads:8,total_memory:16*1024*1024*1024,boot_time:Math.floor((Date.now()-36e5)/1e3)};let k=null,S=null;const D=()=>{const t=Math.sin(Date.now()/5e3)*20;return{timestamp:new Date().toISOString(),system_info:Q,cpu:{usage_percent:Math.max(0,Math.min(100,30+t+Math.random()*10)),frequency_mhz:3600,per_core_usage:Array(8).fill(0).map(()=>Math.max(0,Math.min(100,30+Math.random()*30))),temperature_celsius:45+Math.random()*15,load_average:[1.2,.8,.9],context_switches:1e5+Math.floor(Math.random()*5e4),interrupts:5e4+Math.floor(Math.random()*1e4),processes_total:250+Math.floor(Math.random()*50),processes_running:2+Math.floor(Math.random()*5)},memory:{total_bytes:16*1024*1024*1024,used_bytes:8*1024*1024*1024+Math.random()*2*1024*1024*1024,available_bytes:8*1024*1024*1024-Math.random()*2*1024*1024*1024,cached_bytes:2*1024*1024*1024,swap_total_bytes:8*1024*1024*1024,swap_used_bytes:Math.random()*1024*1024*1024,usage_percent:50+t/2+Math.random()*10,swap_usage_percent:Math.random()*20},gpus:[],disks:[{mount_point:"/",device_name:"/dev/sda1",fs_type:"ext4",total_bytes:512*1024*1024*1024,used_bytes:256*1024*1024*1024,available_bytes:256*1024*1024*1024,usage_percent:50,read_bytes_per_sec:Math.random()*10*1024*1024,write_bytes_per_sec:Math.random()*5*1024*1024,io_operations_per_sec:Math.floor(Math.random()*1e3)},{mount_point:"/home",device_name:"/dev/sda2",fs_type:"ext4",total_bytes:1024*1024*1024*1024,used_bytes:600*1024*1024*1024,available_bytes:424*1024*1024*1024,usage_percent:58.6,read_bytes_per_sec:Math.random()*5*1024*1024,write_bytes_per_sec:Math.random()*3*1024*1024,io_operations_per_sec:Math.floor(Math.random()*500)}],networks:[{interface_name:"eth0",mac_address:"00:11:22:33:44:55",bytes_sent:Math.floor(Math.random()*1024*1024*1024),bytes_received:Math.floor(Math.random()*2*1024*1024*1024),packets_sent:Math.floor(Math.random()*1e6),packets_received:Math.floor(Math.random()*2e6),bytes_sent_rate:Math.random()*1024*1024,bytes_received_rate:Math.random()*2*1024*1024,is_up:!0,ip_addresses:["192.168.1.100"],errors_sent:0,errors_received:0}],top_processes:[{pid:1234,name:"firefox",cpu_usage_percent:15+Math.random()*10,memory_bytes:1.5*1024*1024*1024,memory_percent:9.5,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:120,start_time:new Date(Date.now()-72e5).toISOString()},{pid:5678,name:"code",cpu_usage_percent:10+Math.random()*5,memory_bytes:800*1024*1024,memory_percent:5,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:45,start_time:new Date(Date.now()-36e5).toISOString()},{pid:9012,name:"chrome",cpu_usage_percent:8+Math.random()*5,memory_bytes:1.2*1024*1024*1024,memory_percent:7.5,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:89,start_time:new Date(Date.now()-18e5).toISOString()},{pid:3456,name:"node",cpu_usage_percent:5+Math.random()*3,memory_bytes:256*1024*1024,memory_percent:1.6,disk_read_bytes:0,disk_write_bytes:0,status:"Running",threads:12,start_time:new Date(Date.now()-6e5).toISOString()},{pid:7890,name:"systemd",cpu_usage_percent:2+Math.random()*2,memory_bytes:128*1024*1024,memory_percent:.8,disk_read_bytes:0,disk_write_bytes:0,status:"Sleeping",threads:1,start_time:new Date(Date.now()-864e5).toISOString()}]}},T={invoke:async(s,t)=>{switch(console.log(`Mock Tauri invoke: ${s}`,t),s){case"get_system_info":return Q;case"start_monitoring":k&&clearInterval(k),k=setInterval(()=>{S&&S(D())},1e3);return;case"stop_monitoring":k&&(clearInterval(k),k=null);return;case"get_current_metrics":return D();default:return console.warn(`Unknown Tauri command: ${s}`),null}}},Fe=(s,t)=>(console.log(`Mock Tauri listen: ${s}`),S=o=>t({payload:o}),Promise.resolve(()=>{S=null})),$e="modulepreload",ze=function(s){return"/"+s},P={},R=function(t,o,n){let r=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(o.map(x=>{if(x=ze(x),x in P)return;P[x]=!0;const f=x.endsWith(".css"),N=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${N}`))return;const _=document.createElement("link");if(_.rel=f?"stylesheet":$e,f||(_.as="script"),_.crossOrigin="",_.href=x,c&&_.setAttribute("nonce",c),document.head.appendChild(_),f)return new Promise((i,h)=>{_.addEventListener("load",i),_.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${x}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};async function O(){if(console.log("=== Tauri v2 Detection Service ==="),typeof window<"u"&&window.__TAURI__){if(console.log("✓ window.__TAURI__ found"),console.log("  Available APIs:",Object.keys(window.__TAURI__)),console.log("  Full __TAURI__ object:",window.__TAURI__),window.__TAURI__.core&&typeof window.__TAURI__.core.invoke=="function")return console.log("✓ Tauri v2 core.invoke found"),!0;if(window.__TAURI__.tauri&&typeof window.__TAURI__.tauri.invoke=="function")return console.log("✓ Legacy Tauri invoke found"),!0;if(window.__TAURI__.event&&typeof window.__TAURI__.event.listen=="function")return console.log("✓ Tauri v2 event.listen found"),!0}try{const{invoke:t}=await R(async()=>{const{invoke:o}=await import("./vendor-DWKn6ydv.js").then(n=>n.ah);return{invoke:o}},__vite__mapDeps([0,1,2]));return console.log("✓ Method 2: @tauri-apps/api/core imported successfully"),await t("get_system_info"),console.log("✓ Method 2: Successfully called Tauri command"),!0}catch(t){console.log("✗ Method 2 failed:",t)}const s=globalThis;if(s.__TAURI__||s.__TAURI_INVOKE__||s.__TAURI_INTERNALS__)return console.log("✓ Method 3: Tauri globals found"),!0;if(typeof window<"u"&&new URLSearchParams(window.location.search).has("__TAURI__"))return console.log("✓ Method 4: Tauri URL parameter found"),!0;if(typeof window<"u"&&window.__TAURI__){const t=window.__TAURI__.core,o=window.__TAURI__.event,n=window.__TAURI__.window,r=window.__TAURI__.app;if(t||o||n||r)return console.log("✓ Method 5: Tauri v2 APIs detected"),console.log("  Core:",!!t),console.log("  Event:",!!o),console.log("  Window:",!!n),console.log("  App:",!!r),!0}return console.log("✗ No Tauri environment detected"),!1}async function L(){var s,t,o,n;if(console.log("=== getTauriInvoke called ==="),console.log("window.__TAURI__:",window.__TAURI__),(t=(s=window.__TAURI__)==null?void 0:s.core)!=null&&t.invoke)return console.log("Using Tauri v2 core.invoke"),window.__TAURI__.core.invoke;if((n=(o=window.__TAURI__)==null?void 0:o.tauri)!=null&&n.invoke)return console.log("Using legacy tauri.invoke"),window.__TAURI__.tauri.invoke;try{const{invoke:r}=await R(async()=>{const{invoke:a}=await import("./vendor-DWKn6ydv.js").then(l=>l.ah);return{invoke:a}},__vite__mapDeps([0,1,2]));return console.log("Using imported invoke from @tauri-apps/api/core"),r}catch(r){return console.error("Failed to get Tauri invoke:",r),null}}async function We(){var s,t,o,n;if(console.log("=== getTauriListen called ==="),console.log("window.__TAURI__:",window.__TAURI__),(t=(s=window.__TAURI__)==null?void 0:s.event)!=null&&t.listen)return console.log("Using Tauri v2 event.listen"),window.__TAURI__.event.listen;if((n=(o=window.__TAURI__)==null?void 0:o.core)!=null&&n.listen)return console.log("Using Tauri v2 core.listen"),window.__TAURI__.core.listen;try{const{listen:r}=await R(async()=>{const{listen:a}=await import("./vendor-DWKn6ydv.js").then(l=>l.ai);return{listen:a}},__vite__mapDeps([0,1,2]));return console.log("Using imported listen from @tauri-apps/api/event"),r}catch(r){return console.error("Failed to get Tauri listen:",r),null}}function Ge(){console.log("AppWrapper component loaded");const[s,t]=d.useState(null),[o,n]=d.useState(null),[r,a]=d.useState(!1),[l,c]=d.useState(null),[x,f]=d.useState(!0),[N,_]=d.useState(!0);console.log("AppWrapper state initialized"),d.useEffect(()=>{console.log("AppWrapper useEffect running"),(async()=>{var g,y;try{console.log("Starting initialization...");const j=setTimeout(()=>{console.error("Initialization timeout - setting loading to false"),f(!1),c("Initialization timed out. Please refresh the page.")},15e3);await new Promise(b=>setTimeout(b,1e3));const M=await O();if(console.log("=== Tauri Detection Result ==="),console.log("Is Tauri environment:",M),M){console.log("Using real Tauri backend"),console.log("TAURI DETECTED - NOT USING MOCK SERVICE"),document.title="System Monitor (Tauri)",_(!1);const b=await L();if(!b)throw console.error("Failed to get Tauri invoke function"),new Error("Tauri invoke not available");const u=await We();if(!u)throw console.error("Failed to get Tauri listen function"),new Error("Tauri listen not available");try{console.log("Testing Tauri connectivity with ping...");const m=await b("ping");console.log("Ping result:",m)}catch(m){console.error("Ping failed:",m),c(`Tauri connectivity test failed: ${m}`);return}try{console.log("Calling get_system_info...");const m=await b("get_system_info");console.log("System info received:",m),t(m)}catch(m){console.error("Failed to load system info:",m),c(`Failed to load system info: ${m}`)}try{console.log("Starting monitoring..."),await b("start_monitoring"),a(!0),console.log("Monitoring started successfully")}catch(m){console.error("Failed to start monitoring:",m),c(`Failed to start monitoring: ${m}`)}try{console.log("Setting up metrics listener...");const m=await u("system-metrics",w=>{console.log("Received metrics update:",w),n(w.payload)});console.log("Metrics listener set up successfully");const X=setInterval(async()=>{try{const w=await b("get_current_metrics");n(w)}catch(w){console.log("Polling fallback failed:",w)}},2e3);return()=>{console.log("Cleaning up metrics listener..."),clearInterval(X),m(),b("stop_monitoring").catch(console.error)}}catch(m){console.error("Failed to set up metrics listener:",m),c(`Failed to set up metrics listener: ${m}`)}}else{console.log("Tauri not available, using mock service"),console.log("USING MOCK SERVICE - NOT REAL SYSTEM DATA"),document.title="System Monitor (Mock Data)",_(!0),console.log("Window object:",window),console.log("Tauri object details:",{hasTauri:!!window.__TAURI__,hasTauriCore:!!(window.__TAURI__&&window.__TAURI__.core),hasTauriEvent:!!(window.__TAURI__&&window.__TAURI__.event),invokeType:(y=(g=window.__TAURI__)==null?void 0:g.core)!=null&&y.invoke?typeof window.__TAURI__.core.invoke:"undefined"});try{const u=await T.invoke("get_system_info");t(u)}catch(u){console.error("Failed to load mock system info:",u),c(`Failed to load system info: ${u}`)}try{await T.invoke("start_monitoring"),a(!0)}catch(u){console.error("Failed to start mock monitoring:",u),c(`Failed to start monitoring: ${u}`)}const b=await Fe("system-metrics",u=>{n(u.payload)});return()=>{b(),T.invoke("stop_monitoring").catch(console.error)}}clearTimeout(j)}catch(j){console.error("Initialization error:",j),c(`Initialization error: ${j}`)}finally{console.log("Setting loading to false"),f(!1)}})()},[]);const i=async()=>{try{if(await O()){const g=await L();if(!g)throw new Error("Tauri invoke not available");r?(await g("stop_monitoring"),a(!1)):(await g("start_monitoring"),a(!0))}else r?(await T.invoke("stop_monitoring"),a(!1)):(await T.invoke("start_monitoring"),a(!0))}catch(h){console.error("Failed to toggle monitoring:",h),c(`Failed to toggle monitoring: ${h}`)}};return x?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading System Monitor..."})]})}):e.jsx(Pe,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[e.jsx(Le,{systemInfo:s,isMonitoring:r,onToggleMonitoring:i}),N&&e.jsx("div",{className:"mx-4 mt-4 p-4 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg",children:e.jsx("p",{className:"text-yellow-700 dark:text-yellow-200 font-bold",children:"⚠️ MOCK DATA MODE - This is not real system data! To see real data, run the application through Tauri, not in the browser."})}),l&&e.jsx("div",{className:"mx-4 mt-4 p-4 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-lg",children:e.jsx("p",{className:"text-red-700 dark:text-red-200",children:l})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx(Ee,{systemInfo:s,metrics:o})})]})})}class Ke extends d.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("Error caught by boundary:",t,o)}render(){var t,o;return this.state.hasError?e.jsxs("div",{style:{padding:"20px",color:"red"},children:[e.jsx("h1",{children:"Something went wrong!"}),e.jsx("pre",{children:(t=this.state.error)==null?void 0:t.toString()}),e.jsx("pre",{children:(o=this.state.error)==null?void 0:o.stack})]}):this.props.children}}console.log("main.tsx loaded");const F=document.getElementById("root");F?(console.log("Rendering React app..."),pe.createRoot(F).render(e.jsx(_e.StrictMode,{children:e.jsx(Ke,{children:e.jsx(Ge,{})})})),console.log("React render called")):console.error("Root element not found!");
